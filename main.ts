function Starting () {
    blockMenu.showMenu([
    "Play",
    "How to play",
    "About"
    ], MenuStyle.List, MenuLocation.BottomHalf)
    scene.setBackgroundColor(11)
    blockMenu.setColors(0, 13)
    textSprite = textsprite.create("INTROSPECTION", 0, 10)
    textSprite.setMaxFontHeight(11)
    Text_Front = textsprite.create("INTROSPECTION", 0, 8)
    Text_Front.setMaxFontHeight(11)
    Text_Back = textsprite.create("INTROSPECTION", 0, 12)
    Text_Back.setMaxFontHeight(11)
    textSprite.setPosition(80, 25)
    Text_Front.setPosition(80, 25)
    Text_Back.setPosition(80, 25)
    Text_Front.z = textSprite.z - 10
    story.spriteMoveToLocation(Text_Front, 85, 30, 10)
    timer.background(function () {
        story.spriteMoveToLocation(Text_Back, 78, 20, 10)
    })
    timer.after(750, function () {
        story.spriteMoveToLocation(Text_Front, 80, 25, 75)
        timer.background(function () {
            story.spriteMoveToLocation(Text_Back, 80, 25, 85)
        })
        timer.after(10, function () {
            Text_Back.destroy(effects.ashes, 200)
            timer.background(function () {
                Text_Front.destroy(effects.ashes, 200)
            })
        })
    })
}
blockMenu.onMenuOptionSelected(function (option, index) {
    if (option == "How to play") {
        game.setDialogFrame(img`
            bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
            bbbbcccbbbbbbbbbbbbbcccbbbbbbbbbbbbbcccbbbbbbbbb
            bbcccccccbbbccccbbcccccccbbbccccbbcccccccbbbcccb
            bccccccccccccccccccccccccccccccccccccccccccccccb
            bccccccccccccccccccccccccccccccccccccccccccccccb
            bccccccccccccccccccccccccccccccccccccccccccccccb
            bccccccccccccccccccccccccccccccccccccccccccccccb
            bccccccccccccccccccccccccccccccccccccccccccccccb
            bccccccccccccccccccccccccccccccccccccccccccccccb
            bccccccccccccccccccccccccccccccccccccccccccccccb
            bccccccccccccccccccccccccccccccccccccccccccccccb
            bccccccccccccccccccccccccccccccccccccccccccccccb
            bccccccccccccccccccccccccccccccccccccccccccccccb
            bccccccccccccccccccccccccccccccccccccccccccccccb
            bccccccccccccccccccccccccccccccccccccccccccccccb
            bccccccccccccccccccccccccccccccccccccccccccccccb
            bccccccccccccccccccccccccccccccccccccccccccccccb
            bccccccccccccccccccccccccccccccccccccccccccccccb
            bccccccccccccccccccccccccccccccccccccccccccccccb
            bccccccccccccccccccccccccccccccccccccccccccccccb
            bccccccccccccccccccccccccccccccccccccccccccccccb
            bccccccccccccccccccccccccccccccccccccccccccccccb
            bccccccccccccccccccccccccccccccccccccccccccccccb
            bccccccccccccccccccccccccccccccccccccccccccccccb
            bccccccccccccccccccccccccccccccccccccccccccccccb
            bccccccccccccccccccccccccccccccccccccccccccccccb
            bccccccccccccccccccccccccccccccccccccccccccccccb
            bccccccccccccccccccccccccccccccccccccccccccccccb
            bccccccccccccccccccccccccccccccccccccccccccccccb
            bccccccccccccccccccccccccccccccccccccccccccccccb
            bccccccccccccccccccccccccccccccccccccccccccccccb
            bccccccccccccccccccccccccccccccccccccccccccccccb
            bccccccccccccccccccccccccccccccccccccccccccccccb
            bccccccccccccccccccccccccccccccccccccccccccccccb
            bccccccccccccccccccccccccccccccccccccccccccccccb
            bccccccccccccccccccccccccccccccccccccccccccccccb
            bccccccccccccccccccccccccccccccccccccccccccccccb
            bccccccccccccccccccccccccccccccccccccccccccccccb
            bccccccccccccccccccccccccccccccccccccccccccccccb
            bccccccccccccccccccccccccccccccccccccccccccccccb
            bccccccccccccccccccccccccccccccccccccccccccccccb
            bccffffccccccccccccccccccccccccccccccccccccccccb
            bcc11ffccccccccccccccccccccccccccccccccccccccccb
            bc1181fccccccccccccccccccccccccccccccccccccccccb
            421111fccccccccccccccccccccccccccccccccccccccccb
            b4211ccccccccccccccccccccccccccccccccccccccccccb
            4c42cccccccccccccccccccccccccccccccccccccccccccb
            b4bb4bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
            `)
        game.showLongText("Move with WASD or the ARROW KEYS.", DialogLayout.Center)
    } else if (option == "Play") {
        color.FadeToBlack.startScreenEffect(200)
        timer.after(1000, function () {
            blockMenu.setControlsEnabled(false)
            blockMenu.closeMenu()
            tiles.setTilemap(tilemap`Primera parte`)
            mySprite = sprites.create(assets.image`Alien con brazos`, SpriteKind.Player)
            controller.moveSprite(mySprite)
            characterAnimations.loopFrames(
            mySprite,
            [img`
                .........5.....................5.........
                .........55...................55.........
                .........5bc.................cb5.........
                .........bcc.................ccb.........
                .......fffcb.................bcc.........
                ......ff.ffbc...............cbbb.........
                ......f..bfccb.66999999966.bccbb.........
                ......ff.bccbbbb666999666bbbbccb.........
                .......ffccb88888866966888888bcc.........
                .........bbb81111886968811118bbb.........
                .........bbb81ffff86968ffff18bbb.........
                ..........bb81fff1869681fff18bb..........
                ...........b81ffff86668ffff18b...........
                ...........b88f7ff88688ff7f88b...........
                ...........b688888f868f888886b...........
                ............66666888688866666............
                ............66666666666666666............
                ............66666666666666666............
                ............66666666666666666............
                .............666ffffff51f666.............
                .............66fffffffffff66.............
                ..........555.6f666666666f6.555..........
                ..........525..66666666666..525..........
                ..........52222.666666666.222254.........
                .........452444266666666624442544........
                ........4422dd4422222222244dd22444.......
                ..88...444222d2ff2422242ff2d2222444..88..
                ..86.8844422f222ff44244ff222f2.22488.68..
                88.6668422.2ff222ff444ff222ff2..228666.88
                866996622..22ff22222422222ff22...26699668
                ..699962...222fff4422244fff222...269996..
                .866996.....2e22f2442442f22e2.....699668.
                .886666.....6eeef22fff22feee6666..666688.
                .......666666f4eeef5a5feee4f666666.......
                .....66669966f44444fff44444f99699666.....
                .....696666692f22ff444f222f266669666.....
                ....669666.6644f222fff222f446..666666....
                ...66696....666fff22f22fff66.....6996....
                ...69666....69664f44f44f46696....66666...
                ...6966....6696.6444444466696.....6966...
                ..6666....66666.66966666.66666....66966..
                ..6966...66966.66996.69666.6966....6696..
                ..6966.666696..69966.66996666666...6696..
                .6666.6669666.66666...66696.66966...666..
                8866..699666..666.......666..66966...688.
                .....88666....888.......888....6688......
                `,img`
                .........5.....................5.........
                .........55...................55.........
                .........5bc.................cb5.........
                .........bcc.................ccb.........
                .......fffcb.................bcc.........
                ......ff.ffbc...............cbbb.........
                ......f..bfccb.66999999966.bccbb.........
                ......ff.bccbbbb666999666bbbbccb.........
                .......ffccb88888866966888888bcc.........
                .........bbb81111886968811118bbb.........
                .........bbb81ffff86968ffff18bbb.........
                ..........bb81fff1869681fff18bb..........
                ...........b81ffff86668ffff18b...........
                ...........b88f7ff88688ff7f88b...........
                ...........b688888f868f888886b...........
                ............66666888688866666............
                ............66666666666666666............
                ............66666666666666666............
                ............66666666666666666............
                .............666ffffff51f666.............
                .............66fffffffffff66.............
                ..........555.6f666666666f6.555..........
                ..........525..66666666666..525..........
                ..........52222.666666666.222254.........
                .........452444266666666624442544........
                ........4422dd4422222222244dd22444.......
                ..88...444222d2ff2422242ff2d2222444..88..
                ..86.8844422f222ff44244ff222f2.22488.68..
                88.6668422.2ff222ff444ff222ff2..228666.88
                866996622..22ff22222422222ff22...26699668
                ..699962...222fff4422244fff222...269996..
                .866996.....2e22f2442442f22e2.....699668.
                .886666.....6eeef22fff22feee666...666688.
                ...........66f4eeef5a5feee4f666..........
                ..........666f44444fff44444f9966.........
                .......6669692f22ff444f222f266666........
                ......966696644f222fff222f446.6996.......
                .....69696..666fff22f22fff66...6996......
                ....966669...6664f44f44f46696...6666.....
                ....9666.....696644444446669666..6696....
                ....666.....69966666666966.6696...66666..
                ...9666....9666..699666666...696...6696..
                ..6966....6966...6996..6966...6666..696..
                .6666.....666...6966....69666..6996.666..
                8866.....6696...666.....66996...666..688.
                ........8866....888.......888...6888.....
                `],
            300,
            characterAnimations.rule(Predicate.Moving)
            )
            characterAnimations.loopFrames(
            mySprite,
            [img`
                .........5.....................5..............
                .........55...................55..............
                .........5bc.................cb5..............
                .........bcc.................ccb..............
                .......fffcb.................bcc..............
                ......ff.ffbc...............cbbb..............
                ......f..bfccb.66999999966.bccbb..............
                ......ff.bccbbbb666999666bbbbccb..............
                .......ffccb88888866966888888bcc..............
                .........bbb81111886968811118bbb..............
                .........bbb81ffff86968ffff18bbb..............
                ..........bb81fff1869681fff18bb...............
                ...........b81ffff86668ffff18b................
                ...........b88f7ff88688ff7f88b................
                ...........b688888f868f888886b................
                ............66666888688866666.................
                ............66666666666666666.................
                ............66666666666666666.................
                ............66666666666666666.................
                .............666ffffff51f666..................
                .............66fffffffffff66..................
                ..........555.6f666666666f6.555.............11
                ..........525..66666666666..525............1b1
                ..........52222.666666666.222254..........1b1.
                .........452444266666666624442544........1b1..
                ........4422dd4422222222244dd22444......1b1...
                ..88...444222d2ff2422242ff2d2222444ffff1b1....
                ..86.8844422f222ff44244ff222f2.22444fff51.....
                88.6668422.2ff222ff444ff222ff2..2248fdcff.....
                866996622..22ff22222422222ff22...288dccff.....
                ..699962...222fff4422244fff222...68cc8fff.....
                .866996.....2e22f2442442f22e2....8cc886.f.....
                .886666.....6eeef22fff22feee6666..66866.......
                .......666666f4eeef5a5feee4f666666............
                .....66669966f44444fff44444f99699666..........
                .....696666692f22ff444f222f266669666..........
                ....669666.6644f222fff222f446..666666.........
                ...66696....666fff22f22fff66.....6996.........
                ...69666....69664f44f44f46696....66666........
                ...6966....6696.6444444466696.....6966........
                ..6666....66666.66966666.66666....66966.......
                ..6966...66966.66996.69666.6966....6696.......
                ..6966.666696..69966.66996666666...6696.......
                .6666.6669666.66666...66696.66966...666.......
                8866..699666..666.......666..66966...688......
                .....88666....888.......888....6688...........
                `,img`
                .........5.....................5..............
                .........55...................55..............
                .........5bc.................cb5..............
                .........bcc.................ccb..............
                .......fffcb.................bcc..............
                ......ff.ffbc...............cbbb..............
                ......f..bfccb.66999999966.bccbb..............
                ......ff.bccbbbb666999666bbbbccb..............
                .......ffccb88888866966888888bcc..............
                .........bbb81111886968811118bbb..............
                .........bbb81ffff86968ffff18bbb..............
                ..........bb81fff1869681fff18bb...............
                ...........b81ffff86668ffff18b................
                ...........b88f7ff88688ff7f88b................
                ...........b688888f868f888886b................
                ............66666888688866666.................
                ............66666666666666666........1........
                ............66666666666666666.......1b1.......
                ............66666666666666666.......1b1.......
                .............666ffffff51f666........1b1.......
                .............66fffffffffff66........1b1.......
                ..........555.6f666666666f6.555.....1b1.......
                ..........525..66666666666..525.....1b1.......
                ..........52222.666666666.222254....1b1.......
                .........452444266666666624442544...1b1.......
                ........4422dd4422222222244dd22444..1b1.......
                ..88...444222d2ff2422242ff2d22224fff1b1fff....
                ..86.8844422f222ff44244ff222f2.224fff5fff.....
                88.6668422.2ff222ff444ff222ff2..24f4ccc.f.....
                866996622..22ff22222422222ff22...244dcd.......
                ..699962...222fff4422244fff222...2468c86......
                .866996.....2e22f2442442f22e2.....266c66......
                .886666.....6eeef22fff22feee666....68c86......
                ...........66f4eeef5a5feee4f666....66666......
                ..........666f44444fff44444f9966.....6........
                .......6669692f22ff444f222f266666.............
                ......966696644f222fff222f446.6996............
                .....69696..666fff22f22fff66...6996...........
                ....966669...6664f44f44f46696...6666..........
                ....9666.....696644444446669666..6696.........
                ....666.....69966666666966.6696...66666.......
                ...9666....9666..699666666...696...6696.......
                ..6966....6966...6996..6966...6666..696.......
                .6666.....666...6966....69666..6996.666.......
                8866.....6696...666.....66996...666..688......
                ........8866....888.......888...6888..........
                `],
            2000,
            characterAnimations.rule(Predicate.NotMoving)
            )
            scene.cameraFollowSprite(mySprite)
            color.clearFadeEffect()
        })
    } else if (option == "About") {
        game.setDialogFrame(img`
            bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
            bbbbcccbbbbbbbbbbbbbcccbbbbbbbbbbbbbcccbbbbbbbbb
            bbcccccccbbbccccbbcccccccbbbccccbbcccccccbbbcccb
            bccccccccccccccccccccccccccccccccccccccccccccccb
            bccccccccccccccccccccccccccccccccccccccccccccccb
            bccccccccccccccccccccccccccccccccccccccccccccccb
            bccccccccccccccccccccccccccccccccccccccccccccccb
            bccccccccccccccccccccccccccccccccccccccccccccccb
            bccccccccccccccccccccccccccccccccccccccccccccccb
            bccccccccccccccccccccccccccccccccccccccccccccccb
            bccccccccccccccccccccccccccccccccccccccccccccccb
            bccccccccccccccccccccccccccccccccccccccccccccccb
            bccccccccccccccccccccccccccccccccccccccccccccccb
            bccccccccccccccccccccccccccccccccccccccccccccccb
            bccccccccccccccccccccccccccccccccccccccccccccccb
            bccccccccccccccccccccccccccccccccccccccccccccccb
            bccccccccccccccccccccccccccccccccccccccccccccccb
            bccccccccccccccccccccccccccccccccccccccccccccccb
            bccccccccccccccccccccccccccccccccccccccccccccccb
            bccccccccccccccccccccccccccccccccccccccccccccccb
            bccccccccccccccccccccccccccccccccccccccccccccccb
            bccccccccccccccccccccccccccccccccccccccccccccccb
            bccccccccccccccccccccccccccccccccccccccccccccccb
            bccccccccccccccccccccccccccccccccccccccccccccccb
            bccccccccccccccccccccccccccccccccccccccccccccccb
            bccccccccccccccccccccccccccccccccccccccccccccccb
            bccccccccccccccccccccccccccccccccccccccccccccccb
            bccccccccccccccccccccccccccccccccccccccccccccccb
            bccccccccccccccccccccccccccccccccccccccccccccccb
            bccccccccccccccccccccccccccccccccccccccccccccccb
            bccccccccccccccccccccccccccccccccccccccccccccccb
            bccccccccccccccccccccccccccccccccccccccccccccccb
            bccccccccccccccccccccccccccccccccccccccccccccccb
            bccccccccccccccccccccccccccccccccccccccccccccccb
            bccccccccccccccccccccccccccccccccccccccccccccccb
            bccccccccccccccccccccccccccccccccccccccccccccccb
            bccccccccccccccccccccccccccccccccccccccccccccccb
            bccccccccccccccccccccccccccccccccccccccccccccccb
            bccccccccccccccccccccccccccccccccccccccccccccccb
            bccccccccccccccccccccccccccccccccccccccccccccccb
            bccccccccccccccccccccccccccccccccccccccccccccccb
            bccffffccccccccccccccccccccccccccccccccccccccccb
            bcc11ffccccccccccccccccccccccccccccccccccccccccb
            bc1181fccccccccccccccccccccccccccccccccccccccccb
            421111fccccccccccccccccccccccccccccccccccccccccb
            b4211ccccccccccccccccccccccccccccccccccccccccccb
            4c42cccccccccccccccccccccccccccccccccccccccccccb
            b4bb4bbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbbb
            `)
        game.showLongText("You are playing as David the alien. An alien that has come back to his home planet after a long time, only to find it completely empty of life. This is a journy into the thoughts of David while he tries to figure out what happen to himself and the life of his planet.", DialogLayout.Center)
    }
})
let mySprite: Sprite = null
let Text_Back: TextSprite = null
let Text_Front: TextSprite = null
let textSprite: TextSprite = null
Starting()
